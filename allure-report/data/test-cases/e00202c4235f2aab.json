{"uid":"e00202c4235f2aab","name":"MIRA-1600 - Replace Device - Verify successful device replacement with user transfer","historyId":"ed2c84f2de2c2952a256887bd975ecc6","time":{"start":1757057261915,"stop":1757057263868,"duration":1953},"status":"broken","statusMessage":"Error: deviceId not found from previous registration step.","statusTrace":"Error: deviceId not found from previous registration step.\n    at World.<anonymous> (file:///Users/ei-lap-8975/Documents/mira-api-tests/features/step-definitions/aggregated.steps.js:26:15)","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"broken","statusMessage":"Error: deviceId not found from previous registration step.","statusTrace":"Error: deviceId not found from previous registration step.\n    at World.<anonymous> (file:///Users/ei-lap-8975/Documents/mira-api-tests/features/step-definitions/aggregated.steps.js:26:15)","steps":[{"name":"Given register device","time":{"start":1757057261917,"stop":1757057262705,"duration":788},"status":"passed","steps":[{"name":"\uD83D\uDCA1 Console Logs: Device Registration","time":{"start":1757057262704,"stop":1757057262704,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[{"uid":"60786e6c7fc57407","name":"Request URL - POST /api/device-management/v1/devices","source":"60786e6c7fc57407.txt","type":"text/plain","size":65},{"uid":"a4d3747e925240db","name":"Authorization - POST /api/device-management/v1/devices","source":"a4d3747e925240db.txt","type":"text/plain","size":12},{"uid":"d65ace702dca72dd","name":"Headers - POST /api/device-management/v1/devices","source":"d65ace702dca72dd.json","type":"application/json","size":75},{"uid":"63011c1dec152c1a","name":"Host - POST /api/device-management/v1/devices","source":"63011c1dec152c1a.txt","type":"text/plain","size":24},{"uid":"3dee92159dce7753","name":"Body - POST /api/device-management/v1/devices","source":"3dee92159dce7753.json","type":"application/json","size":293},{"uid":"7b8b5b8facb1a579","name":"Response Body - POST /api/device-management/v1/devices","source":"7b8b5b8facb1a579.json","type":"application/json","size":105},{"uid":"54d395e302cf0af6","name":"API Call Summary - POST /api/device-management/v1/devices","source":"54d395e302cf0af6.html","type":"text/html","size":5185}],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Then the response status code should be 200","time":{"start":1757057262705,"stop":1757057262707,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And map the device to school","time":{"start":1757057262707,"stop":1757057263015,"duration":308},"status":"passed","steps":[],"attachments":[{"uid":"adfc990138c2b0a5","name":"Request URL - POST /api/device-management/v1/organisations/801234/devices/R0396F/mapping","source":"adfc990138c2b0a5.txt","type":"text/plain","size":101},{"uid":"f5090d26b5734c6d","name":"Authorization - POST /api/device-management/v1/organisations/801234/devices/R0396F/mapping","source":"f5090d26b5734c6d.txt","type":"text/plain","size":12},{"uid":"8591f62007ee0088","name":"Headers - POST /api/device-management/v1/organisations/801234/devices/R0396F/mapping","source":"8591f62007ee0088.json","type":"application/json","size":75},{"uid":"a901c994e01fd7fc","name":"Host - POST /api/device-management/v1/organisations/801234/devices/R0396F/mapping","source":"a901c994e01fd7fc.txt","type":"text/plain","size":24},{"uid":"f441591a5f14c40c","name":"Body - POST /api/device-management/v1/organisations/801234/devices/R0396F/mapping","source":"f441591a5f14c40c.json","type":"application/json","size":2},{"uid":"b4874fc0719f06fa","name":"Response Body - POST /api/device-management/v1/organisations/801234/devices/R0396F/mapping","source":"b4874fc0719f06fa.json","type":"application/json","size":129},{"uid":"8b543fb068eebda2","name":"API Call Summary - POST /api/device-management/v1/organisations/801234/devices/R0396F/mapping","source":"8b543fb068eebda2.html","type":"text/html","size":5026}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Then the response status code should be 200","time":{"start":1757057263016,"stop":1757057263017,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And verify the device is mapped to the school in the database","time":{"start":1757057263018,"stop":1757057263527,"duration":509},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And map students to device","time":{"start":1757057263527,"stop":1757057263846,"duration":319},"status":"passed","steps":[],"attachments":[{"uid":"1c5dc0fb584162a5","name":"Request URL - POST /api/device-management/v1/organisations/801234/devices/R0396F/users","source":"1c5dc0fb584162a5.txt","type":"text/plain","size":99},{"uid":"c976f3dc7f2e6259","name":"Authorization - POST /api/device-management/v1/organisations/801234/devices/R0396F/users","source":"c976f3dc7f2e6259.txt","type":"text/plain","size":12},{"uid":"c1e73127285436ed","name":"Headers - POST /api/device-management/v1/organisations/801234/devices/R0396F/users","source":"c1e73127285436ed.json","type":"application/json","size":75},{"uid":"aca2042998a90f9e","name":"Host - POST /api/device-management/v1/organisations/801234/devices/R0396F/users","source":"aca2042998a90f9e.txt","type":"text/plain","size":24},{"uid":"a3002fdf077c669c","name":"Body - POST /api/device-management/v1/organisations/801234/devices/R0396F/users","source":"a3002fdf077c669c.json","type":"application/json","size":58},{"uid":"46b4fc46589ade29","name":"Response Body - POST /api/device-management/v1/organisations/801234/devices/R0396F/users","source":"46b4fc46589ade29.json","type":"application/json","size":233},{"uid":"d61ee28aa238f27f","name":"API Call Summary - POST /api/device-management/v1/organisations/801234/devices/R0396F/users","source":"d61ee28aa238f27f.html","type":"text/html","size":5180}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"Then the response status code should be 200","time":{"start":1757057263846,"stop":1757057263848,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And response should have fields \"message, success, failure\"","time":{"start":1757057263848,"stop":1757057263850,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And response should have the following properties:","time":{"start":1757057263850,"stop":1757057263854,"duration":4},"status":"passed","steps":[],"attachments":[{"uid":"111d13918459f8ec","name":"Data Table","source":"111d13918459f8ec.csv","type":"text/csv","size":28}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"And verify success array matches sent users","time":{"start":1757057263855,"stop":1757057263856,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And verify all success entries have correct device_id","time":{"start":1757057263856,"stop":1757057263856,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And verify failure array is empty","time":{"start":1757057263856,"stop":1757057263857,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And verify the mapping of students to device","time":{"start":1757057263857,"stop":1757057263860,"duration":3},"status":"broken","statusMessage":"Error: deviceId not found from previous registration step.","statusTrace":"Error: deviceId not found from previous registration step.\n    at World.<anonymous> (file:///Users/ei-lap-8975/Documents/mira-api-tests/features/step-definitions/aggregated.steps.js:26:15)","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Given register device","time":{"start":1757057263860,"stop":1757057263860,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Then the response status code should be 200","time":{"start":1757057263860,"stop":1757057263860,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And map the device to school","time":{"start":1757057263860,"stop":1757057263861,"duration":1},"status":"skipped","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Then the response status code should be 200","time":{"start":1757057263861,"stop":1757057263861,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And replace device","time":{"start":1757057263861,"stop":1757057263866,"duration":5},"status":"skipped","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Then the response status code should be 200","time":{"start":1757057263866,"stop":1757057263866,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And response should have the following properties:","time":{"start":1757057263866,"stop":1757057263867,"duration":1},"status":"skipped","steps":[],"attachments":[{"uid":"2df153c3cc939564","name":"Data Table","source":"2df153c3cc939564.csv","type":"text/csv","size":35}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":21,"shouldDisplayMessage":false,"attachmentsCount":23,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"language","value":"javascript"},{"name":"framework","value":"wdio"},{"name":"package","value":".Users.ei-lap-8975.Documents.mira-api-tests.features.api.device-management.Replace-Device.feature"},{"name":"thread","value":"0-0"},{"name":"suite","value":"Device Management - Device Mapping & Retrieval"},{"name":"feature","value":"Device Management - Device Mapping & Retrieval"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser","value":"chrome-137.0.7151.120"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[]}],"tags":[]},"source":"e00202c4235f2aab.json","parameterValues":["chrome-137.0.7151.120"]}